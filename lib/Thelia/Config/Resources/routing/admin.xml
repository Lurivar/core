<?xml version="1.0" encoding="UTF-8" ?>

<routes xmlns="http://symfony.com/schema/routing"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://symfony.com/schema/routing http://symfony.com/schema/routing/routing-1.0.xsd">

	<!-- Route to administration base -->
    <route id="admin" path="/admin">
        <default key="_controller">Thelia\Controller\Admin\AdminController::indexAction</default>
    </route>

	<!-- Route to the administration login page -->
    <route id="admin.login" path="/admin/login">
        <default key="_controller">Thelia\Controller\Admin\SessionController::showLoginAction</default>
    </route>

	<!-- Route to the administration logout page -->
    <route id="admin.logout" path="/admin/logout">
        <default key="_controller">Thelia\Controller\Admin\SessionController::checkLogoutAction</default>
    </route>

	<!-- Route to the login check controller -->
    <route id="admin.checklogin" path="/admin/checklogin">
        <default key="_controller">Thelia\Controller\Admin\SessionController::checkLoginAction</default>
    </route>


	<!-- Route to the catalog controller (process category browsing) -->

    <route id="admin.catalog" path="/admin/catalog">
        <default key="_controller">Thelia\Controller\Admin\CategoryController::indexAction</default>
    </route>

    <route id="admin.category" path="/admin/catalog/category">
        <default key="_controller">Thelia\Controller\Admin\CategoryController::processAction</default>
    </route>
    <route id="admin.category.ajax" path="/admin/catalog/category/parent/{parentId}.{_format}" methods="GET">
        <default key="_controller">Thelia\Controller\Admin\CategoryController::getByParentIdAction</default>
        <requirement key="_format">xml|json</requirement>
    </route>







    <!-- Route to the Coupon controller (process Coupon browsing) -->
    <route id="admin.coupon.list" path="/admin/coupon">
        <default key="_controller">Thelia\Controller\Admin\CouponController::processAction</default>
        <default key="action">browse</default>
    </route>
    <route id="admin.coupon.create" path="/admin/coupon/create">
        <default key="_controller">Thelia\Controller\Admin\CouponController::processAction</default>
        <default key="action">create</default>
    </route>
    <route id="admin.coupon.edit" path="/admin/coupon/edit/{id}">
        <default key="_controller">Thelia\Controller\Admin\CouponController::processAction</default>
        <default key="action">edit</default>
    </route>
    <route id="admin.coupon.read" path="/admin/coupon/read/{id}">
        <default key="_controller">Thelia\Controller\Admin\CouponController::readAction</default>
    </route>






    <!-- Routes to the Config (system variables) controller -->

    <route id="admin.configuration.variables.default" path="/admin/configuration/variables">
        <default key="_controller">Thelia\Controller\Admin\ConfigController::defaultAction</default>
    </route>

    <route id="admin.configuration.variables.change-values" path="/admin/configuration/variables/change-values">
        <default key="_controller">Thelia\Controller\Admin\ConfigController::changeValuesAction</default>
    </route>

    <route id="admin.configuration.variables.create" path="/admin/configuration/variables/create">
        <default key="_controller">Thelia\Controller\Admin\ConfigController::createAction</default>
    </route>

    <route id="admin.configuration.variables.change" path="/admin/configuration/variables/change">
        <default key="_controller">Thelia\Controller\Admin\ConfigController::changeAction</default>
    </route>

    <route id="admin.configuration.variables.save-change" path="/admin/configuration/variables/save-change">
        <default key="_controller">Thelia\Controller\Admin\ConfigController::saveChangeAction</default>
    </route>

    <route id="admin.configuration.variables.delete" path="/admin/configuration/variables/delete">
        <default key="_controller">Thelia\Controller\Admin\ConfigController::deleteAction</default>
    </route>

    <!-- Routes to the Messages controller -->

    <route id="admin.configuration.messages.default" path="/admin/configuration/messages">
        <default key="_controller">Thelia\Controller\Admin\MessageController::defaultAction</default>
    </route>

    <route id="admin.configuration.messages.create" path="/admin/configuration/messages/create">
        <default key="_controller">Thelia\Controller\Admin\MessageController::createAction</default>
    </route>

    <route id="admin.configuration.messages.change" path="/admin/configuration/messages/change">
        <default key="_controller">Thelia\Controller\Admin\MessageController::changeAction</default>
    </route>

    <route id="admin.configuration.messages.save-change" path="/admin/configuration/messages/save-change">
        <default key="_controller">Thelia\Controller\Admin\MessageController::saveChangeAction</default>
    </route>

    <route id="admin.configuration.messages.delete" path="/admin/configuration/messages/delete">
        <default key="_controller">Thelia\Controller\Admin\MessageController::deleteAction</default>
    </route>

	<!-- The default route, to display a template -->

    <route id="admin.processTemplate" path="/admin/{template}">
        <default key="_controller">Thelia\Controller\Admin\AdminController::processTemplateAction</default>
        <requirement key="template">.*</requirement>
    </route>

</routes>
